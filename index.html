<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Restaurant Rush - Dashboard</title>
    <link rel="stylesheet" href="styles.css">
            <!-- Tippy.js CSS -->
            <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css" />
            <style>
                /* Shared tooltip style */
                .tippy-box[data-theme~='rrush'] {
                    background: #3a2c18;
                    color: #fff;
                    border-radius: 10px;
                    box-shadow: 0 4px 16px rgba(0,0,0,0.18);
                    font-size: 1rem;
                    padding: 0.7em 1em;
                    border: 2px solid #d89e54;
                }
                .tippy-box[data-theme~='rrush'] .tippy-arrow {
                    color: #3a2c18;
                }
                /* Centralized mobile tooltip */
                #mobile-tooltip {
                    display: none;
                    position: fixed;
                    left: 50%;
                    bottom: 2.5em;
                    transform: translateX(-50%);
                    z-index: 9999;
                    min-width: 260px;
                    max-width: 90vw;
                    background: #3a2c18;
                    color: #fff;
                    border-radius: 10px;
                    box-shadow: 0 4px 16px rgba(0,0,0,0.18);
                    font-size: 1rem;
                    padding: 0.7em 1em;
                    border: 2px solid #d89e54;
                    text-align: left;
                    transition: opacity 0.2s;
                }
                #mobile-tooltip.show {
                    display: block;
                    opacity: 1;
                }
            </style>
</head>
<body>
    <div class="dashboard">
        <header class="dashboard-header">
            <h1>üçΩÔ∏è Restaurant Rush - Free To Play</h1>
            <div class="game-stats">
                <div class="stat stat-tooltip-container">
                    <span class="stat-label">Day:</span>
                    <span id="game-day" class="stat-value">1</span>
                    <div class="day-progress">
                        <div id="day-progress-bar" class="day-progress-bar"></div>
                    </div>
                    <div class="stat-tooltip" id="day-tooltip">
                        <div class="tooltip-content"></div>
                    </div>
                </div>
                <div class="stat stat-tooltip-container">
                    <span class="stat-label">Revenue:</span>
                    <span id="revenue" class="stat-value">$0</span>
                    <div class="stat-tooltip" id="revenue-tooltip">
                        <div class="tooltip-content"></div>
                    </div>
                </div>
                <div class="stat stat-tooltip-container">
                    <span class="stat-label">Rating:</span>
                    <span id="overall-rating" class="stat-value">5.0</span>
                    <div class="stat-tooltip" id="rating-tooltip">
                        <div class="tooltip-content"></div>
                    </div>
                </div>
                <div class="stat stat-tooltip-container">
                    <span class="stat-label">Orders:</span>
                    <span id="header-orders" class="stat-value">0</span>
                    <div class="stat-tooltip" id="orders-tooltip">
                        <div class="tooltip-content"></div>
                    </div>
                </div>
                <div class="stat stat-tooltip-container">
                    <span class="stat-label">Staff:</span>
                    <span id="header-staff" class="stat-value">0/0</span>
                    <div class="stat-tooltip" id="staff-tooltip">
                        <div class="tooltip-content"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Overview View -->
        <div id="overview-view" class="dashboard-content view-active">
            <div class="overview-cards">
                <!-- Orders Overview Card -->
                <div class="overview-card tooltip-container" id="orders-overview-card">
                    <div class="card-icon">üìã</div>
                    <div class="card-content">
                        <h3>Active Orders</h3>
                        <div class="card-stats-multi">
                            <div class="stat-item">
                                <span id="overview-orders-count" class="stat-number">0</span>
                                <span class="stat-label-small">Total</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-orders-urgent-count" class="stat-number urgent">0</span>
                                <span class="stat-label-small">Urgent</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-orders-vip-count" class="stat-number vip">0</span>
                                <span class="stat-label-small">VIP</span>
                            </div>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="orders">View Details ‚Üí</button>
                    <div style="display:none"></div>
                    <div 
                      data-tippy-content="<strong>Orders Dashboard</strong><br>Track all active customer orders. Urgent orders need immediate attention (time &lt; 30%). VIP orders have stricter deadlines but offer 50% higher rewards."
                      class="tippy-init"
                    ></div>
                </div>

                <!-- Staff Overview Card -->
                <div class="overview-card tooltip-container" id="staff-overview-card">
                    <div class="card-icon">üë®‚Äçüç≥</div>
                    <div class="card-content">
                        <h3>Staff Status</h3>
                        <div class="card-stats-multi">
                            <div class="stat-item">
                                <span id="overview-staff-available" class="stat-number">4</span>
                                <span class="stat-label-small">Available</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-staff-busy" class="stat-number">0</span>
                                <span class="stat-label-small">Busy</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-staff-resting" class="stat-number">0</span>
                                <span class="stat-label-small">Resting</span>
                            </div>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="staff">View Details ‚Üí</button>
                    <div style="display:none"></div>
                    <div 
                      data-tippy-content="<strong>Staff Management</strong><br>Monitor your team's status. Available staff can take orders. Busy staff are working. Resting staff recover from fatigue. Keep staff rested for peak performance!"
                      class="tippy-init"
                    ></div>
                </div>

                <!-- Inventory Overview Card -->
                <div class="overview-card tooltip-container" id="inventory-overview-card">
                    <div class="card-icon">üì¶</div>
                    <div class="card-content">
                        <h3>Inventory</h3>
                        <div class="card-stats-multi">
                            <div class="stat-item">
                                <span id="overview-inventory-total" class="stat-number">18</span>
                                <span class="stat-label-small">Items</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-inventory-low" class="stat-number warning">0</span>
                                <span class="stat-label-small">Low</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-inventory-empty" class="stat-number danger">0</span>
                                <span class="stat-label-small">Empty</span>
                            </div>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="inventory">View Details ‚Üí</button>
                    <div style="display:none"></div>
                    <div 
                      data-tippy-content="<strong>Inventory Management</strong><br>Track ingredient levels. Low items (&lt;30%) need restocking soon. Empty items (0%) block orders. Restock all for $50 or individual items for $10."
                      class="tippy-init"
                    ></div>
                </div>

                <!-- Satisfaction Overview Card -->
                <div class="overview-card tooltip-container" id="satisfaction-overview-card">
                    <div class="card-icon">üòä</div>
                    <div class="card-content">
                        <h3>Customer Satisfaction</h3>
                        <div class="card-stats-multi">
                            <div class="stat-item">
                                <span id="overview-satisfaction" class="stat-number">100%</span>
                                <span class="stat-label-small">Rating</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-happy-customers" class="stat-number success">0</span>
                                <span class="stat-label-small">Happy</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-unhappy-customers" class="stat-number danger">0</span>
                                <span class="stat-label-small">Unhappy</span>
                            </div>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="satisfaction">View Details ‚Üí</button>
                    <div style="display:none"></div>
                    <div 
                      data-tippy-content="<strong>Customer Feedback</strong><br>Monitor customer satisfaction. Successful orders increase happiness. Failed orders decrease it. Keep satisfaction high to maintain your restaurant's reputation!"
                      class="tippy-init"
                    ></div>
                </div>

                <!-- Recipes Overview Card -->
                <div class="overview-card" id="recipes-overview-card">
                    <div class="card-icon">üìñ</div>
                    <div class="card-content">
                        <h3>Recipe Book</h3>
                        <div class="card-stats">
                            <span id="overview-recipes-unlocked" class="big-stat">7</span>
                            <span class="stat-sublabel">Recipes Unlocked</span>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="recipes">View Details ‚Üí</button>
                </div>

                <!-- Equipment Overview Card -->
                <div class="overview-card" id="equipment-overview-card">
                    <div class="card-icon">üîß</div>
                    <div class="card-content">
                        <h3>Equipment</h3>
                        <div class="card-stats">
                            <span id="overview-equipment-upgrades" class="big-stat">0</span>
                            <span class="stat-sublabel">Total Upgrades</span>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="equipment">View Details ‚Üí</button>
                </div>

                <!-- Achievements Overview Card -->
                <div class="overview-card" id="achievements-overview-card">
                    <div class="card-icon">üèÜ</div>
                    <div class="card-content">
                        <h3>Achievements</h3>
                        <div class="card-stats">
                            <span id="overview-achievements-count" class="big-stat">0</span>
                            <span class="stat-sublabel">Unlocked</span>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="achievements">View Details ‚Üí</button>
                </div>

                <!-- Staff of the Day Overview Card -->
                <div class="overview-card tooltip-container" id="eotm-overview-card">
                    <div class="card-icon">üëë</div>
                    <div class="card-content">
                        <h3>Staff of the Day</h3>
                        <div class="card-stats-multi">
                            <div class="stat-item">
                                <span id="overview-eotm-winner" class="stat-number eotm-name">TBD</span>
                                <span class="stat-label-small">Current Winner</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-eotm-score" class="stat-number">0</span>
                                <span class="stat-label-small">Top Score</span>
                            </div>
                            <div class="stat-item">
                                <span id="overview-eotm-days" class="stat-number">30</span>
                                <span class="stat-label-small">Days Left</span>
                            </div>
                        </div>
                    </div>
                    <button class="view-details-btn" data-view="eotm">View Details ‚Üí</button>
                    <div style="display:none"></div>
                    <div 
                      data-tippy-content="<strong>Staff of the Day</strong><br>Track staff performance through daily leaderboards, challenges, and rewards. Top performers earn titles, bonuses, and a place in the Hall of Fame!"
                      class="tippy-init"
                    ></div>
                </div>
            </div>
        </div>

        <!-- Orders Detail View -->
        <div id="orders-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üìã Active Orders</h2>
                <span id="orders-count" class="badge">0</span>
            </div>
            <div id="orders-container" class="orders-container">
                <!-- Orders will be dynamically added here -->
            </div>
        </div>

        <!-- Staff Detail View -->
        <div id="staff-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üë®‚Äçüç≥ Staff Management</h2>
                <span id="staff-count" class="badge">0</span>
            </div>
            <div id="staff-container" class="staff-container">
                <!-- Staff will be dynamically added here -->
            </div>
        </div>

        <!-- Inventory Detail View -->
        <div id="inventory-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üì¶ Inventory Management</h2>
                <button id="restock-btn" class="btn btn-primary">Restock All</button>
            </div>
            <div id="inventory-container" class="inventory-container">
                <!-- Inventory items will be dynamically added here -->
            </div>
        </div>

        <!-- Satisfaction Detail View -->
        <div id="satisfaction-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üòä Customer Satisfaction Dashboard</h2>
            </div>
            <div class="satisfaction-content">
                <!-- Main Satisfaction Meter -->
                <div class="satisfaction-card">
                    <h3>Overall Satisfaction</h3>
                    <div class="satisfaction-meter-large">
                        <div id="satisfaction-bar" class="satisfaction-bar-large" style="width: 100%"></div>
                        <span id="satisfaction-percentage" class="satisfaction-percentage">100%</span>
                    </div>
                    <div class="satisfaction-emoji" id="satisfaction-emoji">üòä</div>
                </div>
                
                <!-- Key Metrics Grid -->
                <div class="satisfaction-metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üòÄ</div>
                        <div class="metric-content">
                            <div class="metric-label">Happy Customers</div>
                            <div class="metric-value" id="happy-customers">0</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">üòû</div>
                        <div class="metric-content">
                            <div class="metric-label">Unhappy Customers</div>
                            <div class="metric-value" id="unhappy-customers">0</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">‚≠ê</div>
                        <div class="metric-content">
                            <div class="metric-label">VIP Served</div>
                            <div class="metric-value" id="vip-customers">0</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">‚è±Ô∏è</div>
                        <div class="metric-content">
                            <div class="metric-label">Avg Wait Time</div>
                            <div class="metric-value" id="avg-wait-time">0s</div>
                        </div>
                    </div>
                </div>
                
                <!-- Additional Stats Row -->
                <div class="satisfaction-metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üìä</div>
                        <div class="metric-content">
                            <div class="metric-label">Success Rate</div>
                            <div class="metric-value" id="success-rate">0%</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">üìà</div>
                        <div class="metric-content">
                            <div class="metric-label">Today's Orders</div>
                            <div class="metric-value" id="today-orders">0</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">üí∞</div>
                        <div class="metric-content">
                            <div class="metric-label">Avg Order Value</div>
                            <div class="metric-value" id="avg-order-value">$0</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">üéØ</div>
                        <div class="metric-content">
                            <div class="metric-label">Performance</div>
                            <div class="metric-value" id="performance-rating">Good</div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Feedback Section -->
                <div class="satisfaction-feedback-section">
                    <h3>Recent Customer Feedback</h3>
                    <div id="feedback-container" class="feedback-container">
                        <!-- Recent feedback will appear here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Recipes Detail View -->
        <div id="recipes-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üìñ Recipe Book</h2>
                <span class="badge" style="background: #28a745;">Complete orders to unlock!</span>
            </div>
            <div id="recipes-container" class="recipes-container">
                <!-- Recipes will be dynamically added here -->
            </div>
        </div>

        <!-- Equipment View -->
        <div id="equipment-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üîß Equipment Upgrades</h2>
                <span class="badge" style="background: #D89E54;">Boost your restaurant!</span>
            </div>
            <div id="equipment-container" class="equipment-container">
                <!-- Equipment will be dynamically added here -->
            </div>
        </div>

        <!-- Achievements View -->
        <div id="achievements-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üèÜ Achievements</h2>
                <span id="achievements-badge" class="badge" style="background: #D89E54;">0 / 18 Unlocked</span>
            </div>
            <div id="achievements-container" class="achievements-container">
                <!-- Achievements will be dynamically added here -->
            </div>
        </div>

        <!-- Staff of the Day View -->
        <div id="eotm-view" class="dashboard-content detail-view">
            <div class="detail-view-header">
                <button class="back-btn" data-back="overview">‚Üê Back to Overview</button>
                <h2>üèÜ Staff of the Day</h2>
                <span id="eotm-month-badge" class="badge" style="background: #D89E54;">Day 1</span>
            </div>
            <div class="eotm-container">
                <!-- Leaderboard Section -->
                <div class="eotm-section">
                    <h3>üìä Daily Leaderboard</h3>
                    <div id="leaderboard-container" class="leaderboard-container">
                        <!-- Top 3 staff will be displayed here -->
                    </div>
                </div>

                <!-- Weekly Challenge Section -->
                <div class="eotm-section">
                    <h3>üéØ Daily Challenge</h3>
                    <div id="weekly-challenge-container" class="weekly-challenge-container">
                        <!-- Weekly challenge will be displayed here -->
                    </div>
                </div>

                <!-- Hall of Fame Section -->
                <div class="eotm-section">
                    <h3>üåü Hall of Fame</h3>
                    <div id="hall-of-fame-container" class="hall-of-fame-container">
                        <!-- Past winners will be displayed here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <button id="start-game-btn" class="btn btn-success">Start Game</button>
            <button id="pause-game-btn" class="btn btn-warning" disabled>Pause</button>
            <button id="new-order-btn" class="btn btn-primary" disabled>üìã New Order</button>
            <button id="auto-assign-btn" class="btn btn-secondary">ü§ñ Auto: OFF</button>
            <button id="sound-toggle-btn" class="btn btn-secondary">üîä Sound On</button>
            <button id="last-day-summary-btn" class="btn btn-secondary" onclick="game.showLastDaySummary()">üìä Last Day</button>
            <button id="shortcuts-help-btn" class="btn btn-secondary">‚å®Ô∏è Shortcuts</button>
        </div>
    </div>

    <!-- Keyboard Shortcuts Help Modal -->
    <div id="shortcuts-modal" class="modal">
        <div class="modal-content shortcuts-modal-content">
            <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
            <div class="shortcuts-grid">
                <div class="shortcut-item">
                    <span class="shortcut-key">P</span>
                    <span class="shortcut-desc">Pause/Resume game</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">O</span>
                    <span class="shortcut-desc">Generate new order</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">R</span>
                    <span class="shortcut-desc">Restock all inventory</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">A</span>
                    <span class="shortcut-desc">Toggle auto-assign</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">S</span>
                    <span class="shortcut-desc">Toggle sound</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">ESC</span>
                    <span class="shortcut-desc">Return to overview</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">?</span>
                    <span class="shortcut-desc">Show shortcuts hint</span>
                </div>
            </div>
            <button class="btn btn-primary btn-large" onclick="game.toggleShortcutsModal()">Got it!</button>
        </div>
    </div>

    <!-- Day Summary Modal -->
    <div id="day-summary-modal" class="modal">
        <div class="modal-content">
            <h2>üìä Day <span id="summary-day-number">1</span> Complete!</h2>
            <div class="summary-stats">
                <div class="summary-section">
                    <h3>üí∞ Financial Summary</h3>
                    <div class="summary-item">
                        <span>Revenue Earned:</span>
                        <span id="summary-revenue-earned" class="summary-value">$0</span>
                    </div>
                    <div class="summary-item">
                        <span>End of Day Bonus (10%):</span>
                        <span id="summary-bonus" class="summary-value success">$0</span>
                    </div>
                    <div class="summary-item" id="summary-penalties-item" style="display: none;">
                        <span>Penalties (Unfinished Orders):</span>
                        <span id="summary-penalties" class="summary-value danger">-$0</span>
                    </div>
                    <div class="summary-item summary-total">
                        <span>Total Revenue:</span>
                        <span id="summary-total-revenue" class="summary-value">$0</span>
                    </div>
                </div>
                <div class="summary-section">
                    <h3>üë• Customer Summary</h3>
                    <div class="summary-item">
                        <span>Customers Served:</span>
                        <span id="summary-customers-served" class="summary-value">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Happy Customers:</span>
                        <span id="summary-happy-customers" class="summary-value success">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Unhappy Customers:</span>
                        <span id="summary-unhappy-customers" class="summary-value danger">0</span>
                    </div>
                    <div class="summary-item summary-total">
                        <span>Success Rate:</span>
                        <span id="summary-success-rate" class="summary-value">100%</span>
                    </div>
                </div>
                <div class="summary-section">
                    <h3>üìä Additional Stats</h3>
                    <div class="summary-item">
                        <span>Total Orders Completed:</span>
                        <span id="summary-orders-completed" class="summary-value">0</span>
                    </div>
                    <div class="summary-item">
                        <span>VIP Customers Served:</span>
                        <span id="summary-vip-served" class="summary-value">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Staff Upgrades:</span>
                        <span id="summary-staff-upgrades" class="summary-value">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Perfect Day:</span>
                        <span id="summary-perfect-day" class="summary-value">No</span>
                    </div>
                </div>
                <div class="summary-section">
                    <h3>üë®‚Äçüç≥ Staff Performance</h3>
                    <div id="summary-staff-breakdown">
                        <!-- Staff performance will be dynamically added here -->
                    </div>
                </div>
            </div>
            <button class="btn btn-success btn-large" onclick="game.continueToNextDay()">Continue to Day <span id="next-day-number"></span> ‚Üí</button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="game-over-modal" class="modal">
        <div class="modal-content">
            <h2 style="color: #dc3545;">üíî Game Over</h2>
            <p style="font-size: 1.2rem; margin: 20px 0;">Your restaurant ran out of funds!</p>
            <div class="summary-stats">
                <div class="summary-section">
                    <h3>üìà Final Statistics</h3>
                    <div class="summary-item">
                        <span>Days Survived:</span>
                        <span id="gameover-day-reached" class="summary-value">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Total Customers:</span>
                        <span id="gameover-total-customers" class="summary-value">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Happy Customers:</span>
                        <span id="gameover-happy-customers" class="summary-value success">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Average Rating:</span>
                        <span id="gameover-rating" class="summary-value">5.0</span>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary btn-large" onclick="game.restartGame()">üîÑ Start New Game</button>
        </div>
    </div>

    <!-- Mobile Centralized Tooltip -->
    <div id="mobile-tooltip" class="mobile-tooltip">
        <div class="mobile-tooltip-content"></div>
    </div>

    <script src="game.js"></script>
</body>
</html>
